let _odatav4, _rest, _auth, _perf, _statements, _version

const api = {
  to: {
    odata_v4 (service) {
      _odatav4 = _odatav4 || (_odatav4 = require('./adapter/odata-v4/to'))
      return _odatav4(service)
    },
    rest (service) {
      _rest = _rest || (_rest = require('./adapter/rest/to'))
      return _rest(service)
    }
  },
  auth (...args) {
    _auth = _auth || (_auth = require('../common/auth'))
    return _auth(...args)
  },
  // REVISIT: remove once not needed anymore
  performanceMeasurement (...args) {
    _perf = _perf || (_perf = require('./adapter/perf/performanceMeasurement'))
    return _perf(...args)
  },
  get statements () {
    _statements = _statements || (_statements = require('./statements'))
    return _statements
  },
  get version () {
    _version = _version || (_version = require('../../package').version)
    return _version
  }
}

// REVISIT: remove once not needed anymore
api.passport = api.auth

module.exports = api
